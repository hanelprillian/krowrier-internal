(window.webpackJsonp=window.webpackJsonp||[]).push([[26],{XSYM:function(t,a,e){"use strict";e.r(a);var i=e("o0o1"),n=e.n(i);function s(t,a,e,i,n,s,r){try{var c=t[s](r),l=c.value}catch(t){return void e(t)}c.done?a(l):Promise.resolve(l).then(i,n)}var r={data:function(){return{data:[],search:{keyword:""},paging:{total_data:0,data_per_page:10,end:!1,loading:!1},ref:{data:null,dataNext:null}}},methods:{searchLoad:_.debounce(function(){this.loadData()},500),loadData:function(){this.data=[],this.ref.data=db.collection("service_package"),""!=this.search.keyword?this.ref.data=this.ref.data.orderBy("name","asc").startAt(this.search.keyword).endAt(this.search.keyword+"ï£¿"):this.ref.data.orderBy("created_at","desc");var t=this.ref.data.limit(this.paging.data_per_page);this.handledata(t)},loadMore:function(){var t=this;t.paging.end||(this.paging.loading=!0,this.handledata(this.ref.dataNext).then(function(a){t.paging.loading=!1,a.empty&&(t.paging.end=!0)}))},handledata:function(t){var a=this;return new Promise(function(e,i){t.get().then(function(t){t.empty&&(a.paging.end=!0,e(t)),t.forEach(function(t){var e=t.data();e.id=t.id,a.data.push(e)});var i=t.docs[t.size-1];i&&(a.ref.dataNext=a.ref.data.startAfter(i).limit(a.paging.data_per_page),e(t))})})},deleteData:function(t,a){var e=this;t&&swal.fire({title:"Delete Service Package ?",html:"Your data "+a+" will permanently delete from database ?",type:"question",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes"}).then(function(a){a.value&&db.collection("courier_schedule").where("service_package_id","==",t).limit(1).get().then(function(a){0==a.size&&db.collection("service_package").doc(t).delete().then(function(){e.loadData()}).catch(function(t){alert("Error removing document: ",t)})})})}},created:function(){var t,a=(t=n.a.mark(function t(){return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.loadData();case 2:case"end":return t.stop()}},t,this)}),function(){var a=this,e=arguments;return new Promise(function(i,n){var r=t.apply(a,e);function c(t){s(r,i,n,c,l,"next",t)}function l(t){s(r,i,n,c,l,"throw",t)}c(void 0)})});return function(){return a.apply(this,arguments)}}(),mounted:function(){}},c=e("KHd+"),l=Object(c.a)(r,function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"container-fluid"},[e("div",{staticClass:"row"},[e("div",{staticClass:"page-header"},[e("div",{staticClass:"d-flex align-items-center"},[e("h2",{staticClass:"page-header-title"},[t._v("Service Package")]),t._v(" "),e("div",[e("div",{staticClass:"page-header-tools"},[e("router-link",{staticClass:"btn btn-primary ripple",attrs:{tag:"button",to:"/internal/service-package/new"}},[t._v("Tambah")])],1)])])])]),t._v(" "),e("div",{staticClass:"row flex-row"},[e("div",{staticClass:"col-xl-12"},[e("div",{staticClass:"widget widget-07 has-shadow"},[t._m(0),t._v(" "),e("div",{staticClass:"widget-body"},[e("div",{staticClass:"table-responsive table-scroll padding-right-10"},[e("table",{staticClass:"table table-hover mb-0"},[t._m(1),t._v(" "),e("tbody",[t._l(t.data,function(a){return e("tr",[t._m(2,!0),t._v(" "),e("td",[t._v(t._s(a.name))]),t._v(" "),e("td",{staticClass:"td-actions"},[e("router-link",{attrs:{to:{path:"/internal/service-package/"+a.id}}},[e("i",{staticClass:"la la-edit edit"})]),t._v(" "),e("a",{attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.deleteData(a.id,a.name)}}},[e("i",{staticClass:"la la-close delete"})])],1)])}),t._v(" "),t.paging.end?t._e():e("tr",[e("td",{attrs:{colspan:"5"}},[e("button",{staticClass:"btn btn-block",on:{click:function(a){return a.preventDefault(),t.loadMore()}}},[t._v("Load more")])])])],2)])])]),t._v(" "),e("div",{staticClass:"widget-footer d-flex align-items-center"},[e("div",{staticClass:"mr-auto p-2"},[e("span",{staticClass:"display-items"},[t._v("Showing 1-"+t._s(t.data.length)+" Results")])])])])])])])},[function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"widget-header bordered d-flex align-items-center"},[a("h2",[this._v("List Data")])])},function(){var t=this.$createElement,a=this._self._c||t;return a("thead",[a("tr",[a("th",{attrs:{width:"1%"}},[a("div",{staticClass:"styled-checkbox mt-2"},[a("input",{attrs:{type:"checkbox",name:"check-all",id:"check-all"}}),this._v(" "),a("label",{attrs:{for:"check-all"}})])]),this._v(" "),a("th",{attrs:{width:"15%"}},[this._v("Name")]),this._v(" "),a("th",{attrs:{width:"10%"}},[this._v("Actions")])])])},function(){var t=this.$createElement,a=this._self._c||t;return a("td",{staticStyle:{width:"5%"}},[a("div",{staticClass:"styled-checkbox mt-2"},[a("input",{attrs:{type:"checkbox",name:"cb10",id:"cb10"}}),this._v(" "),a("label",{attrs:{for:"cb10"}})])])}],!1,null,null,null);a.default=l.exports}}]);