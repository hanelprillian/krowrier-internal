(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{"h/kp":function(t,e,s){"use strict";s.r(e);var a={data:function(){return{current_user:firebase.auth().currentUser,dataUser:[],paging:{total_data:0,user_per_page:10,end:!1,loading:!1},ref:{users:null,usersNext:null}}},beforeRouteEnter:function(t,e,s){s(function(t){t.loadUsers()})},methods:{loadUsers:function(){console.log(db.collection("user").get());this.ref.users=db.collection("user").orderBy("create_unix_time","desc");var t=this.ref.users.limit(this.paging.user_per_page);this.handleUsers(t)},loadMore:function(){var t=this;t.paging.end||(this.paging.loading=!0,this.handleUsers(this.ref.usersNext).then(function(e){t.paging.loading=!1,e.empty&&(t.paging.end=!0)}))},handleUsers:function(t){var e=this;return new Promise(function(s,a){t.get().then(function(t){t.empty&&(e.paging.end=!0,s(t)),t.forEach(function(t){var s=t.data();s.id=t.id,e.dataUser.push(s)});var a=t.docs[t.size-1];a&&(e.ref.usersNext=e.ref.users.startAfter(a).limit(e.paging.user_per_page),s(t))})})}},mounted:function(){}},i=s("KHd+"),r=Object(i.a)(a,function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container-fluid"},[t._m(0),t._v(" "),s("div",{staticClass:"row flex-row"},[s("div",{staticClass:"col-xl-12"},[s("div",{staticClass:"widget widget-07 has-shadow"},[t._m(1),t._v(" "),s("div",{staticClass:"widget-body"},[s("div",{staticClass:"table-responsive table-scroll padding-right-10",staticStyle:{"max-height":"520px"}},[s("table",{staticClass:"table table-hover mb-0"},[t._m(2),t._v(" "),s("tbody",[t._l(t.dataUser,function(e){return s("tr",[t._m(3,!0),t._v(" "),s("td",{staticClass:"text-center"},[s("div",{staticStyle:{height:"80px",width:"80px"}},[s("img",{staticClass:"img-fluid rounded-circle",staticStyle:{height:"100%",width:"100%","object-fit":"cover"},attrs:{src:""!=e.photo?e.photo:"https://firebasestorage.googleapis.com/v0/b/pasarudang-6129d.appspot.com/o/_webs%2Fuser-img.png?alt=media&token=cb7062cb-1aab-428c-b5d2-8f84fee01cc3",alt:""}})])]),t._v(" "),s("td",[s("span",{staticClass:"badge-text badge-text-small bg-blue"},[t._v(t._s(e.current_role))])]),t._v(" "),s("td",[t._v("\n                                            "+t._s(e.name)+"\n                                        ")]),t._v(" "),s("td",[t._v(t._s(e.email))]),t._v(" "),s("td",[t._v(t._s(e.phone))])])}),t._v(" "),t.paging.end?t._e():s("tr",[s("td",{attrs:{colspan:"7"}},[s("button",{staticClass:"btn btn-block",on:{click:function(e){return e.preventDefault(),t.loadMore()}}},[t._v("Load more")])])])],2)])])]),t._v(" "),s("div",{staticClass:"widget-footer d-flex align-items-center"},[s("div",{staticClass:"mr-auto p-2"},[s("span",{staticClass:"display-items"},[t._v("Showing 1-"+t._s(t.dataUser.length)+" Results")])])])])])])])},[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"row"},[e("div",{staticClass:"page-header"},[e("div",{staticClass:"d-flex align-items-center"},[e("h2",{staticClass:"page-header-title"},[this._v("Data User")]),this._v(" "),e("div",[e("div",{staticClass:"page-header-tools"})])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"widget-header bordered d-flex align-items-center"},[e("h2",[this._v("List Data")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("thead",[s("tr",[s("th",{attrs:{width:"1%"}},[s("div",{staticClass:"styled-checkbox mt-2"},[s("input",{attrs:{type:"checkbox",name:"check-all",id:"check-all"}}),t._v(" "),s("label",{attrs:{for:"check-all"}})])]),t._v(" "),s("th",{attrs:{width:"5%"}}),t._v(" "),s("th",{attrs:{width:"15%"}},[t._v("Role")]),t._v(" "),s("th",{attrs:{width:"20%"}},[t._v("Name")]),t._v(" "),s("th",{attrs:{width:"20%"}},[t._v("Email")]),t._v(" "),s("th",{attrs:{width:"10%"}},[t._v("Phone")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticStyle:{width:"5%"}},[e("div",{staticClass:"styled-checkbox mt-2"},[e("input",{attrs:{type:"checkbox",name:"cb10",id:"cb10"}}),this._v(" "),e("label",{attrs:{for:"cb10"}})])])}],!1,null,null,null);e.default=r.exports}}]);